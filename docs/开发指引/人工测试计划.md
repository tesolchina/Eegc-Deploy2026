# EEGC-Nuxt 人工测试计划

本文档提供一份详细的人工（手动）测试计划，涵盖应用的所有核心功能。测试人员应按顺序执行，并记录每一步的实际结果。

---

## 测试环境准备

- 确认应用已正常启动（`npm run dev`）
- 确认环境变量已正确配置：`POE_API_KEY`、`SUPABASE_URL`、`SUPABASE_PUBLISHABLE_KEY`、`JWT_SECRET`
- 准备至少一个在白名单中的学生账号信息
- 准备一个教师账号信息
- 建议使用 Chrome 或 Edge 浏览器

---

## 一、首页与导航

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 1.1 | 打开应用首页 (`/`) | 页面正常加载，显示登录入口选项 | ☐ |
| 1.2 | 点击"学生登录"入口 | 跳转到 `/student/login` | ☐ |
| 1.3 | 点击"教师登录"入口 | 跳转到 `/teacher/login` | ☐ |
| 1.4 | 在未登录状态下直接访问 `/eegc` | 被拦截或重定向到登录页 | ☐ |
| 1.5 | 在未登录状态下直接访问 `/teacher/dashboard` | 被拦截或重定向到登录页 | ☐ |

---

## 二、学生注册

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 2.1 | 访问 `/student/signup` | 注册表单正常显示 | ☐ |
| 2.2 | 不填写任何字段，提交表单 | 显示验证错误提示 | ☐ |
| 2.3 | 使用不在白名单中的信息注册 | 提示该学生不在白名单中，注册失败 | ☐ |
| 2.4 | 使用白名单中的有效信息注册 | 注册成功，生成学生 ID，跳转到登录页或主页 | ☐ |
| 2.5 | 重复注册同一个学生 | 提示已注册或显示适当错误信息 | ☐ |

---

## 三、学生登录

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 3.1 | 访问 `/student/login` | 登录表单正常显示 | ☐ |
| 3.2 | 输入错误的学生 ID | 登录失败，显示错误提示 | ☐ |
| 3.3 | 输入正确的学生 ID 登录 | 登录成功，跳转到 `/eegc` 主界面 | ☐ |
| 3.4 | 登录后刷新页面 | 登录状态保持，不被退出 | ☐ |

---

## 四、EEGC 主界面 — 模式切换

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 4.1 | 进入 `/eegc` 页面 | 页面正常加载，显示课程头部和模式选择器 | ☐ |
| 4.2 | 切换到 Briefing 模式 | 显示 Briefing 模式内容（背景介绍、评分标准等） | ☐ |
| 4.3 | 切换到 Training 模式 | 显示 Training 模式内容和聊天界面 | ☐ |
| 4.4 | 切换到 Assessment 模式 | 显示 Assessment 模式内容和聊天界面 | ☐ |
| 4.5 | 在不同模式之间来回切换 | 每个模式的聊天记录独立保持，互不干扰 | ☐ |

---

## 五、AI 聊天功能

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 5.1 | 在 Training 模式下输入一条消息并发送 | AI 回复以流式方式逐步显示 | ☐ |
| 5.2 | 发送空白消息 | 不发送，或显示提示 | ☐ |
| 5.3 | 在 AI 回复过程中观察界面 | 显示加载/打字指示器，消息逐字显示 | ☐ |
| 5.4 | 连续发送多条消息 | 对话历史正确记录，上下文连贯 | ☐ |
| 5.5 | 在 Assessment 模式下进行三步写作辅导 | AI 引导学生完成三步修改流程 | ☐ |
| 5.6 | 聊天消息中包含 Markdown 格式 | Markdown 正确渲染（粗体、列表、代码等） | ☐ |
| 5.7 | API 连接异常时发送消息 | 显示明确的错误提示，不卡死 | ☐ |

---

## 六、学习报告

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 6.1 | 完成一轮 Assessment 对话后，生成报告 | 报告内容正确展示（含聊天记录摘要、评分等） | ☐ |
| 6.2 | 点击导出 PDF | PDF 文件成功下载，内容格式正确 | ☐ |
| 6.3 | 点击导出 Markdown | Markdown 文件成功下载，内容完整 | ☐ |
| 6.4 | 提交报告到服务器 | 报告成功保存到 Supabase，提示提交成功 | ☐ |
| 6.5 | 重复提交同一份报告 | 得到适当处理（更新或提示已存在） | ☐ |

---

## 七、教师登录

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 7.1 | 访问 `/teacher/login` | 登录表单正常显示 | ☐ |
| 7.2 | 输入错误的邮箱或密码 | 登录失败，显示错误提示 | ☐ |
| 7.3 | 输入正确的教师凭据登录 | 登录成功，跳转到 `/teacher/dashboard` | ☐ |

---

## 八、教师仪表盘

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 8.1 | 进入仪表盘页面 | 页面加载，显示统计数据和报告表格 | ☐ |
| 8.2 | 查看统计数据区域 | 显示学生数量、报告数量等概览信息 | ☐ |
| 8.3 | 浏览报告列表 | 正确列出已提交的学生报告 | ☐ |
| 8.4 | 点击某一份报告查看详情 | 弹出详情模态框，展示完整报告内容 | ☐ |
| 8.5 | 使用重复 ID 检查功能 | 正确检测并列出重复的学生 ID | ☐ |

---

## 九、鉴权与安全

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 9.1 | 学生登录后，访问教师仪表盘 | 被拒绝访问 | ☐ |
| 9.2 | 教师登录后，访问学生 EEGC 页面 | 被拒绝访问或行为符合预期 | ☐ |
| 9.3 | 清除浏览器 Cookie / LocalStorage 后访问受保护页面 | 被重定向到登录页 | ☐ |
| 9.4 | 使用过期或伪造的 JWT Token 调用 API | 返回 401 未授权错误 | ☐ |

---

## 十、响应式与兼容性

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 10.1 | 在桌面浏览器（1920x1080）下使用应用 | 布局正常，无溢出或遮挡 | ☐ |
| 10.2 | 在平板尺寸（768px 宽）下使用应用 | 布局适当调整，功能可正常使用 | ☐ |
| 10.3 | 在手机尺寸（375px 宽）下使用应用 | 布局适配移动端，聊天和模式切换可正常操作 | ☐ |
| 10.4 | 在 Chrome 浏览器中测试 | 所有功能正常 | ☐ |
| 10.5 | 在 Safari 浏览器中测试 | 所有功能正常（特别注意流式响应） | ☐ |

---

## 十一、边界情况与异常处理

| # | 测试步骤 | 预期结果 | 通过 |
|---|----------|----------|------|
| 11.1 | 断开网络后发送聊天消息 | 显示网络错误提示，不卡死 | ☐ |
| 11.2 | 在聊天中输入超长文本（>5000 字符） | 正常处理或给出字数限制提示 | ☐ |
| 11.3 | 快速连续点击发送按钮 | 不重复发送，或有防抖处理 | ☐ |
| 11.4 | 在报告生成过程中切换模式 | 不导致数据丢失或页面崩溃 | ☐ |
| 11.5 | 数据库不可用时提交报告 | 显示明确错误提示 | ☐ |

---

## 测试记录模板

| 日期 | 测试人 | 测试范围 | 通过率 | 备注 |
|------|--------|----------|--------|------|
| | | | | |

---

## 已知限制

- 教师密码以明文存储（已知安全隐患，待优化）
- PDF 导出依赖 html2canvas，在复杂样式下可能出现渲染差异
- Poe API 连接稳定性受网络环境影响
